{"ast":null,"code":"import { put, call, select } from \"redux-saga/effects\";\nimport { getFiles } from \"../services/fileSystemService\";\nimport { googleSignInInit, getRedirectUrl, authenticateUserIntoApp, authenticateUserIntoApp1, authenticateUserToServerService } from \"../services/authenticationService\";\nimport { StartGoogleSignIn, GoogleInitSuccess, setRedirectUrl, authenticateUserResponseAction } from \"../actions/actions\";\nexport const authInstance = state => state.signInReducers.auth;\nexport const getRedirectUrlSaga = function* () {\n  try {\n    const res = yield call(getRedirectUrl);\n    if (res.isAuthenticated) yield put(setRedirectUrl(res.home));else {\n      window.location.href = res.home;\n    }\n  } catch (e) {}\n};\nexport const authenticateUserSaga = function* (params) {\n  try {\n    const res = yield call(authenticateUserIntoApp, params);\n    const res1 = yield call(authenticateUserIntoApp1, params);\n  } catch (e) {}\n};\nexport const initGoogleSignIn = function* () {\n  try {\n    const res = yield call(googleSignInInit);\n    yield put(GoogleInitSuccess(res()));\n  } catch (err) {}\n};\nexport const startGoogleSignIn = function* () {\n  try {\n    const auth = yield select(authInstance);\n    console.log(auth);\n\n    if (auth == null || auth == undefined) {\n      //yield put({type: types.fa})\n      return;\n    }\n\n    yield auth.signIn();\n  } catch (err) {}\n};\nexport const authenticateUserToServerSaga = function* (params) {\n  try {\n    console.log(params);\n    const res = yield call(authenticateUserToServerService, params.urlParams);\n    console.log(res);\n\n    if (res.data.status == \"ok\") {\n      console.log(\"running\");\n      const res = yield call(getFiles, params.urlParams);\n      yield put(authenticateUserResponseAction(res.data.Status));\n    } else {\n      yield put(authenticateUserResponseAction(\"Not ok\"));\n    } //yield put(authenticateUserResponseAction(res.data.status))\n\n  } catch (err) {}\n};\nexport const createFolderSaga = function* (action) {\n  console.log(action);\n};\nexport const getFilesSaga = function* () {\n  try {\n    const response = yield call(getFiles);\n  } catch (err) {}\n};","map":{"version":3,"sources":["/Users/krishnamurthy/go/src/filebox-app/client/src/sagas/sagas.js"],"names":["put","call","select","getFiles","googleSignInInit","getRedirectUrl","authenticateUserIntoApp","authenticateUserIntoApp1","authenticateUserToServerService","StartGoogleSignIn","GoogleInitSuccess","setRedirectUrl","authenticateUserResponseAction","authInstance","state","signInReducers","auth","getRedirectUrlSaga","res","isAuthenticated","home","window","location","href","e","authenticateUserSaga","params","res1","initGoogleSignIn","err","startGoogleSignIn","console","log","undefined","signIn","authenticateUserToServerSaga","urlParams","data","status","Status","createFolderSaga","action","getFilesSaga","response"],"mappings":"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","sourcesContent":["import {put, call, select} from \"redux-saga/effects\";\nimport {getFiles} from \"../services/fileSystemService\";\nimport {\n    googleSignInInit,\n    getRedirectUrl,\n    authenticateUserIntoApp,\n    authenticateUserIntoApp1,\n    authenticateUserToServerService,\n} from \"../services/authenticationService\";\nimport {StartGoogleSignIn, GoogleInitSuccess, setRedirectUrl, \n    authenticateUserResponseAction} from \"../actions/actions\";\n\nexport const authInstance = state => state.signInReducers.auth;\n\nexport const getRedirectUrlSaga = function*() {\n    try {\n        const res = yield call(getRedirectUrl);\n        if(res.isAuthenticated)\n            yield put(setRedirectUrl(res.home));\n        else {\n            window.location.href = res.home\n        }\n    }\n    catch(e) {\n\n    }\n}\n\nexport const authenticateUserSaga = function*(params) {\n    try {\n        const res = yield call(authenticateUserIntoApp, params)\n        const res1 = yield call(authenticateUserIntoApp1, params)\n    }\n    catch(e) {\n\n    }\n}\n\nexport const initGoogleSignIn = function*() {\n    try {\n        const res = yield call(googleSignInInit);\n        yield put(GoogleInitSuccess(res()));\n    }\n    catch(err) {\n\n    }\n}\n\nexport const startGoogleSignIn = function*() {\n    try {\n        const auth = yield select(authInstance);\n        console.log(auth);\n        if(auth == null || auth == undefined) {\n            //yield put({type: types.fa})\n            return\n        }\n        yield auth.signIn();\n    }\n    catch(err) {\n\n    }\n}\n\nexport const authenticateUserToServerSaga = function*(params) {\n    try {\n        console.log(params)\n        const res = yield call(authenticateUserToServerService, params.urlParams);\n        console.log(res)\n        if(res.data.status == \"ok\") {\n            console.log(\"running\")\n            const res = yield call(getFiles, params.urlParams)\n            yield put(authenticateUserResponseAction(res.data.Status))\n        } else {\n            yield put(authenticateUserResponseAction(\"Not ok\"))\n        }\n        //yield put(authenticateUserResponseAction(res.data.status))\n    }\n    catch(err) {\n\n    }\n}\n\nexport const createFolderSaga = function*(action) {\n    console.log(action)\n}\n\nexport const getFilesSaga = function*() {\n    try {\n        const response = yield call(getFiles)\n    }\n    catch(err) {\n    }\n}"]},"metadata":{},"sourceType":"module"}